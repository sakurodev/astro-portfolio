<div class="preloader fixed w-full h-full bg-neutral-900 z-50">
  <p class="text-2xl absolute right-0 p-10 name text-white">Eduardo Navarro</p>
  <p
    id="counter"
    style="font-stretch: 125%; font-family: Recoleta"
    class="text-9xl absolute bottom-0 p-10 text-white"
  >
    00%
  </p>
</div>

<script>
  import gsap from "gsap";

  const tl = gsap.timeline();
  tl.to("body", {
    overflow: "hidden",
  })
    .to(".preloader", {
      duration: 1.5,
      height: "0vh",
      ease: "power3.inOut",
    })
    .to(".preloader", {
      display: "none",
    })
    .to("body", {
      overflow: "auto",
    });

  const counterRef = document.getElementById("counter");
  const counter = () => {
    var count = setInterval(() => {
      var c = parseInt(counterRef.textContent);
      counterRef.textContent = (++c).toString() + "%";
      if (c == 100) {
        clearInterval(count);
      }
    }, 60);
  };

  counter();
</script>
